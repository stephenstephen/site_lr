N2D("SmartSliderWidgetFullScreenImage",function(e,t){function i(e,t,i,s){this.key="fullscreen",this.desktopRatio=t,this.tabletRatio=i,this.mobileRatio=s,N2Classes.SmartSliderWidget.prototype.constructor.call(this,e)}return((i.prototype=Object.create(N2Classes.SmartSliderWidget.prototype)).constructor=i).prototype.onStart=function(){this.$widget=this.slider.sliderElement.find(".n2-full-screen-widget"),this.slider.sliderElement.on({}),this.deferred=e.Deferred(),this.slider.sliderElement.on({SliderDevice:this.onDevice.bind(this),n2FullScreen:function(){this.$widget.addClass("n2-active")}.bind(this),n2ExitFullScreen:function(){this.$widget.removeClass("n2-active")}.bind(this)}).trigger("addWidget",this.deferred),this.slider.controlFullscreen&&this.$widget.on("click",this.slider.controlFullscreen.switchState.bind(this.slider.controlFullscreen)),e.when(this.$widget.n2imagesLoaded(),this.slider.stages.get("ResizeFirst").getDeferred()).always(this.onLoad.bind(this))},i.prototype.onLoad=function(){this.$widget.addClass("n2-ss-widget--calc"),this.width=this.$widget.width(),this.height=this.$widget.height(),this.$widget.removeClass("n2-ss-widget--calc"),this.onDevice(null,{device:this.slider.responsive.getDeviceMode()}),this.deferred.resolve()},i.prototype.onDevice=function(e,t){var i=1;switch(t.device){case"tabletPortrait":case"tabletLandscape":i=this.tabletRatio;break;case"mobilePortrait":case"mobileLandscape":i=this.mobileRatio;break;default:i=this.desktopRatio}this.$widget.width(this.width*i),this.$widget.height(this.height*i)},i.prototype.destroy=function(){this.$widget.remove()},i});